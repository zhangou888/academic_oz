---
title: Bad Habits in R programming from Nice-R-Code site
author: Ou Zhang
date: '2020-04-12'
slug: bad-habits-in-r-programming-from-nice-r-code-site
categories:
  - R
tags:
  - R
subtitle: 'Some Bad R Programming habits'
summary: ''
authors: []
lastmod: '2020-04-12T14:16:16-05:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---



<p>Recently, I’ve prepared/refreshed my old programming talk materials, I found an very interesting and good post from the web.</p>
<p>It gives a lot of good and bad programming examples. I thought it might be worthwhile for me to share here so that people including myself in the future could be benefited from it.</p>
<p>The original post is <a href="https://nicercode.github.io/intro/bad-habits.html">here</a>.</p>
<p>You can fidn the post below.</p>
<hr />
<ol style="list-style-type: decimal">
<li><p>Avoid indexing by location unless you compute those locations.</p></li>
<li><p>Don’t use <code>T</code> and <code>F</code> as shortcuts for <code>TRUE</code> and <code>FALSE</code>. This dates back to the language that predates R. For why not to do this, try running <code>T &lt;- FALSE</code>. Now both <code>T</code> and <code>F</code> are <code>FALSE</code>! Try running <code>TRUE &lt;- FALSE</code> — R prevents you from doing this.</p></li>
<li><p>Don’t be inconsistent (i.e., be consistent) with assignment symbols, variable names, etc. The more consistent you are, the easier you will find it to revisit your code in the future.</p></li>
<li><p>Don’t use <code>attach</code>. I’m debating even listing this function’s name, but don’t use it. If you see it in somebody’s code, don’t copy it. Just trust me on this one.</p></li>
<li><p><strong>Avoid</strong> copy and pasting large chunks of code between projects. Once you get in the habit of making functions, copy those around, but I have seen huge messes of code with problems that are impossible to track down due to this.</p></li>
<li><p>Don’t write enormously long functions that are difficult to read (this is sometimes unavoidable to a degree in cleaning up ecological data). <em>Try to have each function do just one thing</em>.</p></li>
<li><p>Don’t write functions that depend on global variables, as this makes it hard to use those functions elsewhere (which was the point of writing them!). All data should be given as arguments to the function.</p></li>
<li><p><strong>Do document your work.</strong> You probably cannot have enough describing where data files came from, what scripts do what, how particular pieces of code work. Avoid writing comments that just repeat what the code says, and try and write comments that describe your intent, reasons for approaches, sources of data / code / algorithm — things that will make your life easier when you come back to a project.</p></li>
<li><p><strong>Keep things tidy</strong>. Tidy data is a wonderful data manipulation philosophy proposed by the great <a href="http://hadley.nz/"><strong>Hadley Wickham</strong></a>. You can find his paper <strong><a href="https://vita.had.co.nz/papers/tidy-data.pdf">here</a></strong>. In my personal opinion, every data scientist or statistical analyst should read this paper once.</p></li>
<li><p>Indent your code, and do it consistently (I usually set my auto-indentation by 4-space). There are many styles (google around to be amazed) but proper indentation is the difference between easy to read and hard to read code, as indent depth implies something about program structure. Take our variance function from earlier.</p></li>
</ol>
<pre class="r"><code>    variance &lt;- function(x) {
  n &lt;- length(x)
m &lt;- mean(x)
(1 / (n-1)) * sum((x - m)^2)
}
variance(data$Height)</code></pre>
<p><strong>vs</strong></p>
<pre class="r"><code>variance &lt;- function(x) {
  n &lt;- length(x)
  m &lt;- mean(x)
  (1 / (n-1)) * sum((x - m)^2)
}
variance(data$Height)</code></pre>
<p>It is much more obvious that the body of the variance function is three lines long in the second version than the first. Skimming the code, you will probably interpret the first version has only having a one line body and miss most of the function.</p>
<p>A <strong>good rule of thumb</strong> is to code for the person who will maintain your code. As this is usually you, that should not be too hard to motivate.</p>
<p>Hope you like this post.</p>
